

<html>
<head>

	  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>	
	<meta name="monetag" content="d591b394db908e4c544ab4679fdd802c">

	<link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
	<meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Compare PL Goalkeepers">
    <meta name="twitter:description" content="Generate scatter plots of PL keepers">
    <meta name="twitter:image" content="https://i.imgur.com/p43wTxg.png">
    <meta property="og:image" content="https://i.imgur.com/p43wTxg.png">
	
	<title translate="no">DataMB | Compare PL Goalkeepers</title>
	<script src="https://d3js.org/d3.v5.min.js"></script>
<link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

<style>


	
  /* Dark Mode Styles */
  body.dark-mode,
  body.dark-mode * {
    color: #f2f2f2;
  }

  body.dark-mode {
    background-color: #0F0F0E;
  }

body.dark-mode .tooltip {
  color: #000000; /* Set the font color to black in dark mode */
  background-color: #f9f9f9;
  border: solid;
  border-width: 1px;
  border-radius: 5px;
  padding: 10px;
  font-size: 12px;
}



 body.dark-mode #search-bar {
    color: #000; /* Specify the desired text color for dark mode */
background-color : #999
  }
	
 body.dark-mode	  #search-bar::placeholder {
    color: #fff; /* Specify the desired color for the placeholder text */
  }

  body.dark-mode svg .x-label {
    /* Override SVG text color */
    fill: #f2f2f2;
  }


  body.dark-mode svg .y-label {
    /* Override SVG text color */
    fill: #f2f2f2;
  }

body.dark-mode select {
  color: #f2f2f2; /* Set the text color to a light color in dark mode */
  background-color: #333333; /* Set the background color to a dark color in dark mode */
}


body.dark-mode .player-name {
  fill: #ffffff; /* Set the fill color to white in dark mode */
}

body.dark-mode button {
  /* Override button background color */
  background-color: #333333;
}

body.dark-mode button,
body.dark-mode button:focus {
  /* Override button text color */
  color: #f2f2f2;
}

body.dark-mode button:hover {
  /* Preserve button hover property */
  color: initial;
}

body.dark-mode .button-8 {
  /* Override button background color */
  background-color: #13293d; /* Dark blue color */
  color: #f2f2f2; /* Off-white color */
}

body.dark-mode .button-8:hover,
body.dark-mode .button-8:focus {
  /* Override button hover and focus state */
  background-color: #3a6ea5; /* Darker blue color */
  color: #f2f2f2; /* Off-white color */
}

body.dark-mode .button-8:hover,
body.dark-mode .button-8:focus {
  /* Override button hover and focus state */
  background-color: #3a6ea5; /* Darker blue color */
  color: #f2f2f2; /* Off-white color */
}


 .dark-mode-toggle {
    position: absolute;
    top: 716.5px;
    left: 684.5px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: #e0e0de;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  }


.dark-mode-toggle .toggle-icon::before {
  content: "\263D"; /* Unicode character for sun symbol */
  font-size: 24px; /* Adjust the font size as needed */
}

body.dark-mode .dark-mode-toggle {
  background-color: #333333;
}




body.dark-mode .dark-mode-toggle .toggle-icon::before {
  font-family: "Ionicons";
  content: "\f3b0"; /* Unicode value for the sun icon in Ionicons */
}




body.dark-mode .toggle-slider {
  background-color: #2B2C2E; /* Darker background color for dark mode */
}

body.dark-mode input:checked + .toggle-slider:before {
  background-color: #ccc; /* Darker background color for dark mode */
}


circle.highlighted {
  stroke: #ff00ff;
  stroke-width: 3px;
}



circle {
  cursor: pointer;
}

.button-1 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 70px;
  left: 1150px;
  width: 120px; 
 
  touch-action: manipulation;
}

.button-1:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-2 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 135px;
  left: 1150px;
width: 120px; 
 
  touch-action: manipulation;
}

.button-2:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-3 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 200px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-3:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-4 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 265px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-4:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-5 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 330px;
  left: 1150px;
width: 120px; 
 
  touch-action: manipulation;
}

.button-5:hover {
   box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-6 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 395px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-6:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


.button-7 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 460px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-7:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-9 {
  align-items: center;
  background-color: #F9F9F9;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: #121212;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 525px;
  left: 1150px;
width: 120px;
 
  touch-action: manipulation;
}

.button-9:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}

.button-8 {
  align-items: center;
  background-color: #1DA1F2;
  border-radius: 25px;
  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
  box-sizing: border-box;
  color: white;
  cursor: pointer;
  display: inline-flex;
  flex: 1 1 auto;
  font-family: Inter,sans-serif;
  font-size: 0.82rem;
  font-weight: 700;
  justify-content: center;
  line-height: 1;
  margin: 0;
  outline: none;
  padding: 1rem 1.2rem;
  text-align: center;
  text-decoration: none;
  transition: box-shadow .1s,-webkit-box-shadow .1s;
  white-space: nowrap;
  border: 0;
  user-select: none;
  position: absolute;
  top: 590px;
  left: 1150px;
 width: 120px; 
  touch-action: manipulation;
}

.button-8:hover {
  box-shadow: rgba(0, 0, 0, 0.4) 3px 3px 3px;
}


#search-bar {
    position: absolute;
    top: 726px; /* Adjust the desired top position */
    left: 760px; /* Adjust the desired left position */
  }


.toggle-button {
  background-color: #f5f5f5;
  color: #333;
  padding: 7px 14px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
position: absolute;
top: 717px;
left: 611px;
}



.icon::before {
  content: "\f2b5";
  font-family: "Ionicons"; /* Replace with the appropriate font */
font-size: 22px;
}


     img {
            width: 200px;
position: absolute;
top: 235px;
pointer-events: none;
z-index: -1; 
left: 475px;
opacity: .055; 	
	}


#bottom-container {
  position: absolute;
  top: 1450px;
  right: 0px;
}

	     
	     
	     
</style>
	
</head>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>

<body>
	
	
	 <img src="https://i.imgur.com/UurMbGS.png" alt="Logo">

	
	<div class="dark-mode-toggle" onclick="toggleDarkMode()">
    <div class="toggle-icon"></div>
  </div>
<svg id="scatter-plot"></svg>
<input type="text" id="search-bar" placeholder="Search player...">
<button id="toggle-median-lines" class="toggle-button"><div class="icon"></div></button>
<script>
  var csvData = `ID,Player,Minutes played,Duels per 90,Duels won %,Successful defensive actions per 90,Defensive duels per 90,Defensive duels won %,Aerial duels per 90,Aerial duels won %,PAdj Sliding tackles,PAdj Interceptions,Fouls per 90,Yellow cards per 90,Passes per 90,Accurate passes %,Forward passes per 90,Accurate forward passes %,Lateral passes per 90,Accurate lateral passes %,Short / medium passes per 90,Accurate short / medium passes %,Long passes per 90,Accurate long passes %,Average pass length m,Average long pass length m,Key passes per 90,Passes to final third per 90,Accurate passes to final third %,Passes to penalty area per 90,Accurate passes to penalty area %,Through passes per 90,Accurate through passes %,Progressive passes per 90,Accurate progressive passes %,Conceded goals per 90,Shots against per 90,Save rate %,xG against per 90,Prevented goals per 90,Back passes received as GK per 90,Exits per 90,Aerial duels per 90
1,Alisson,3433,0.84,84.38,2.15,0.1,50,0.58,86.36,0,3.27,0.03,0.03,27.71,89.12,13.13,78.64,13.55,99.42,21.24,98.4,6.45,58.94,27.15,44.99,0.05,1.6,47.54,0.1,50,0.24,44.44,4.22,65.22,1.1,3.83,71.23,1.21,0.11,0,1.23,0.58
2,Ederson,3230,0.64,82.61,1.53,0.11,25,0.33,100,0,2.61,0.03,0.08,25.05,90.1,12.07,84.06,11.98,96.28,19.73,97.88,5.29,61.58,27.57,47.57,0.03,1.23,38.64,0.06,0,0.31,18.18,3.59,63.57,0.86,2.09,58.67,0.73,-0.136,0,0.86,0.33
3,A. Ramsdale,3469,0.65,84,1.79,0.1,100,0.31,91.67,0,2.77,0,0.03,18.73,86.01,10.59,77.45,7.26,98.93,12.12,97.64,6.56,65.22,31.47,48.01,0,3.14,59.5,0.23,33.33,0.18,42.86,4.67,76.67,1.01,3.35,69.77,1,-0.012,0,0.91,0.31
4,Robert Sánchez,2259,0.68,64.71,1.24,0.16,50,0.4,80,0,1.83,0.04,0.08,21.71,84.4,11.79,75.68,8.61,95.37,16.02,96.52,5.7,50.35,28.38,50.51,0,2.03,35.29,0.12,0,0.32,12.5,4.38,52.73,1.2,3.03,60.53,0.97,-0.227,0,1.47,0.4
5,E. Martínez,3168,0.85,80,2.16,0.11,50,0.45,100,0,3.01,0,0.17,24.72,88.85,11.02,78.09,13.04,97.82,15.99,99.11,8.72,70.03,30.1,47.14,0.03,2.05,54.17,0.17,0,0.14,20,5.65,78.39,0.99,3.75,73.48,1.2,0.21,0,1.88,0.45
6,David Raya,3481,0.83,84.38,2.15,0.1,50,0.49,84.21,0,2.65,0,0.03,24.41,82.63,15.12,74.36,8.71,96.74,11.66,97.78,12.62,69.47,37.72,49.8,0,4.32,63.47,0.39,33.33,0.34,23.08,9.39,79.34,1.16,4.89,76.19,1.24,0.079,0,1.73,0.49
7,J. Pickford,3364,0.91,64.71,1.9,0.13,60,0.4,66.67,0,2.2,0.03,0.13,18.11,77.7,11.88,67.12,5.48,98.05,7.84,96.59,10.25,63.45,40.1,52.34,0.03,4.55,51.18,0.21,12.5,0.54,35,6.88,80.54,1.42,4.71,69.89,1.59,0.172,0,1.28,0.4
8,D. Henderson,1763,0.26,60,1.84,0.05,0,0.1,100,0,2.03,0.05,0.1,21.03,79.61,12.15,66.39,8.17,98.75,11.13,99.54,9.8,57.81,36.5,51.47,0,2.91,47.37,0.2,25,0.31,33.33,6.07,69.75,1.58,4.75,66.67,1.69,0.107,0,1.43,0.1
9,I. Meslier,3368,0.99,72.97,2.43,0.16,50,0.56,85.71,0.11,3.02,0.03,0.08,16.86,80.03,8.9,64.26,7.35,98.18,9.97,97.32,6.87,55.25,32.85,48.19,0,1.47,34.55,0.19,14.29,0.03,100,5.13,65.63,1.79,4.6,61.05,1.52,-0.268,0.03,1.63,0.56
10,José Sá,3457,0.94,88.89,1.33,0.1,50,0.47,94.44,0,1.73,0.03,0.05,19.76,85.77,9.81,73.47,9.03,97.98,13.69,97.34,6.07,59.66,29.31,46.91,0,1.17,35.56,0.05,0,0.13,60,4.66,63.13,1.3,3.98,67.32,1.32,0.021,0.03,1.67,0.47
11,G. Bazunu,3170,0.97,79.41,2.13,0.11,75,0.62,86.36,0,2.53,0.03,0,21.52,80.61,14.22,71.86,6.62,98.28,10.19,95.82,11.19,67.51,37.39,50.6,0,4.06,60.14,0.2,14.29,0.17,16.67,9,77.29,1.59,3.66,56.59,1.25,-0.345,0.03,1.62,0.62
12,N. Pope,3302,0.71,76.92,2.24,0.16,83.33,0.3,90.91,0,3.18,0.03,0.08,14.28,85.11,6.9,71.54,6.76,97.98,9.21,97.93,5.07,61.83,31.57,48.26,0,1.31,45.83,0,0,0.05,50,3.57,75.57,0.79,3.22,75.42,0.93,0.14,0,1.66,0.3
13,David de Gea,3313,0.46,94.12,1.2,0,0,0.33,91.67,0,1.66,0,0,22.14,85.03,11.79,74.19,9.51,97.71,14.07,98.46,7.99,62.24,31.12,46.67,0,0.9,51.52,0,0,0.19,42.86,6.09,65.18,1.11,3.64,69.4,1.23,0.113,0,0.92,0.33
14,Kepa Arrizabalaga,2521,1.14,71.88,1.86,0.11,33.33,0.64,77.78,0.05,2.72,0,0.04,22.71,89.62,9.46,76.98,11.5,98.76,17.81,97.8,4.86,60.29,26.35,37.96,0,0.93,53.85,0.07,0,0.07,0,3.82,57.94,0.96,4.07,76.32,1.25,0.287,0,1.18,0.64
15,B. Leno,3262,0.69,72,2.04,0.08,66.67,0.39,85.71,0,2.61,0.03,0.08,22.62,90.24,9.66,79.14,12.22,98.65,16.39,99.33,6.24,66.37,29.29,49.53,0,1.43,51.92,0.06,0,0.03,0,4.3,75,1.3,5.05,74.32,1.84,0.544,0,1.19,0.39
16,D. Ward,2552,0.78,72.73,1.38,0.18,60,0.35,100,0.04,1.54,0,0,21.62,87.77,8.68,72.76,11.46,98.15,14.28,99.26,7.3,65.7,29.05,47.22,0,1.09,51.61,0.07,50,0.04,0,4.62,72.52,1.62,4.34,62.6,1.19,-0.431,0,1.69,0.35
17,K. Navas,1498,0.78,84.62,1.98,0,0,0.66,100,0,2.19,0,0.12,14.78,81.3,10.09,74.4,4.15,97.1,6.61,98.18,8.11,68.15,37.01,47.57,0,1.02,52.94,0,0,0.06,0,5.77,77.08,1.8,4.63,61.04,1.72,-0.082,0,1.74,0.66
18,H. Lloris,2411,0.93,80,1.49,0.15,75,0.52,92.86,0.05,1.7,0,0,16.84,86.7,8.55,75.55,7.62,98.04,9.44,99.6,7.39,70.2,31.69,44.85,0,1.12,63.33,0,0,0.04,0,4.89,72.52,1.46,4.55,68.03,1.1,-0.351,0,1.27,0.52
19,Neto,2421,0.59,75,2.19,0.11,100,0.33,77.78,0.04,2.26,0,0.15,14.42,80.93,9.55,75.1,4.01,95.37,7.03,95.24,7.25,68.72,35.14,48.22,0,1.41,47.37,0.07,50,0.04,0,5.87,74.68,1.34,4.68,71.43,1.51,0.172,0,1.67,0.33
20,M. Travers,1031,0.35,100,1.22,0,0,0.35,100,0,1.36,0,0,13.18,86.09,6.72,75.32,4.63,96.23,7.68,96.59,5.5,71.43,31.37,50.13,0,0.61,57.14,0,0,0,0,5.24,73.33,2.71,5.59,51.56,2.14,-0.57,0,1.13,0.35
21,F. Forster,1054,0.6,85.71,1.45,0.09,100,0.26,66.67,0,1.83,0,0.09,13.75,86.34,6.49,72.37,6.66,98.72,8.97,100,4.78,60.71,28.63,44.33,0,1.02,58.33,0.09,0,0,0,2.9,70.59,1.54,4.1,62.5,1.41,-0.128,0,1.02,0.26
22,Vicente Guaita,2648,0.71,90.48,2.01,0.07,100,0.54,87.5,0,2.27,0.03,0.03,17.3,86.25,8.56,75.4,7.99,97.02,9.62,98.94,7.65,70.67,31.95,45.49,0,0.54,50,0,0,0.03,100,5.2,76.47,1.16,3.94,70.69,1.09,-0.068,0,1.77,0.54
23,Ł. Fabiański,3087,0.93,81.25,1.4,0.06,100,0.67,91.3,0,1.45,0,0.03,13.94,81.38,9.36,74.14,4.11,97.87,6.27,97.67,7.58,68.85,39.37,52.06,0,1.49,50.98,0.09,0,0.09,33.33,6.03,78.74,1.25,4.14,69.72,1.15,-0.105,0,1.34,0.67
24,J. Steele,1006,0.45,60,1.61,0.09,0,0.09,100,0.18,3.04,0.09,0.09,22.28,94.38,13.06,91.1,7.78,98.85,17.62,99.49,4.65,75,24.33,43.1,0.09,0.63,42.86,0.09,0,0.18,50,3.22,86.11,1.34,3.58,62.5,1.13,-0.208,0,1.07,0.09`;


  var rows = csvData.trim().split('\n');
  var header = rows[0].split(',');
  var data = rows.slice(1).map(function(row) {
    return row.split(',').map(function(d) {
      return parseFloat(d);
    });
  });

  var margin = { top: 40, right: 80, bottom: 100, left: 100 };
  var width = 1080 - margin.left - margin.right;
  var height = 720 - margin.top - margin.bottom;

var medianLinesVisible = false;


var container = d3.select("body")
  .append("div")
  .style("position", "relative");

var selectX = container.append("select")
  .attr("id", "select-x")
  .on("change", updateChart)
  .style("position", "absolute")
  .style("left", "80px")
  .style("top", "0px");

var selectY = container.append("select")
  .attr("id", "select-y")
  .on("change", updateChart)
  .style("position", "absolute")
  .style("left", "330px")
  .style("top", "0px");


var xMedian = d3.median(data, function(d) { return d[header.indexOf(xMetric)]; });
var yMedian = d3.median(data, function(d) { return d[header.indexOf(yMetric)]; });




  header.slice(2).forEach(function(metric) {
    selectX.append("option")
      .text(metric)
      .attr("value", metric);
    selectY.append("option")
      .text(metric)
      .attr("value", metric);
  });

  var svg = d3.select("#scatter-plot")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var xMetric = header[2];
  var yMetric = header[2];

  var xScale = d3.scaleLinear()
    .domain([0, d3.max(data, function(d) { return d[2]; })])
    .range([0, width]);
  var yScale = d3.scaleLinear()
    .domain([0, d3.max(data, function(d) { return d[2]; })])
    .range([height, 0]);

var xAxis = d3.axisBottom(xScale)
  .tickSize(0); 
var yAxis = d3.axisLeft(yScale)
  .tickSize(0); 

var xExtent = d3.extent(data, function(d) { return d[header.indexOf(xMetric)]; });
var yExtent = d3.extent(data, function(d) { return d[header.indexOf(yMetric)]; });

svg.append("g")
  .attr("transform", "translate(0," + height + ")")
  .call(xAxis)
  .selectAll("text")
  .remove();

svg.append("g")
  .call(yAxis)
  .selectAll("text")
  .remove();

svg.append("text")
  .attr("class", "x-label")
  .attr("text-anchor", "end")
  .attr("x", width)
  .attr("y", height + margin.top)
  .text(header[2])
  .style("font-family", "Arial")
  .style("font-size", "12px");


svg.append("text")
  .attr("class", "y-label")
  .attr("text-anchor", "end")
  .attr("transform", "rotate(-90)")
  .attr("y", -35)
  .attr("x", 0)
  .text(header[2])
  .style("font-family", "Arial")
  .style("font-size", "12px");


svg.append("g")
  .attr("class", "x-axis")
  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisBottom(xScale).tickSize(0));

svg.append("g")
  .attr("class", "y-axis")
  .call(d3.axisLeft(yScale).tickSize(0));


var tooltip = d3.select("body")
  .append("div")
  .attr("class", "tooltip")
  .style("opacity", 0);

tooltip.style("position", "absolute")
  .style("background-color", "#f9f9f9")
  .style("border", "solid")
  .style("border-width", "1px")
  .style("border-radius", "5px")
  .style("padding", "10px")
  .style("font-size", "12px");
	
	document.addEventListener('touchstart', function(event) {
  if (!tooltip.contains(event.target)) {
    tooltip.style.display = 'none';
  }
});

var names = rows.slice(1).map(function(row) {
  return row.split(',')[1];
});


var searchBar = document.getElementById("search-bar");

searchBar.addEventListener("input", function() {
  var searchTerm = searchBar.value.toLowerCase();

  if (searchTerm === '') {
    resetSearch();
    return;
  }

  searchTerm = removeSpecialCharsAndDiacritics(searchTerm);

  circles.classed("highlighted", false);

  circles.filter(function(d, i) {
      var name = removeSpecialCharsAndDiacritics(names[i].toLowerCase());
      return name.includes(searchTerm);
    })
    .classed("highlighted", true);
});

function removeSpecialCharsAndDiacritics(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/[^\w\s]/gi, "");
}






var clickedCircles = []; // array to keep track of clicked circles

var circles = svg.selectAll("circle")
  .data(data)
  .enter()
  .append("circle")
  .attr("cx", function(d) { return xScale(d[header.indexOf(xMetric)]); })
  .attr("cy", function(d) { return yScale(d[header.indexOf(yMetric)]); })
  .attr("r", 8)
  .style("fill", "steelblue")
  .on("mouseover", function(d, i) {
    d3.select(this)
      .classed("hovered", true)
      .style("fill", "red");
      
    tooltip.transition()
      .duration(200)
      .style("opacity", .9);
    tooltip.html(names[i] + "<br/>" + xMetric + ": " + d[header.indexOf(xMetric)] + "<br/>" + yMetric + ": " + d[header.indexOf(yMetric)])
      .style("left", (d3.event.pageX + 10) + "px")
      .style("top", (d3.event.pageY - 28) + "px");
  })
  .on("mouseout", function(d) {
    if (!d3.select(this).classed("clicked")) {
      d3.select(this)
        .classed("hovered", false)
        .style("fill", "steelblue");
    }
    
    tooltip.transition()
      .duration(500)
      .style("opacity", 0);
  })
  .on("click", function(d, i) {
    var clickedIndex = clickedCircles.indexOf(i);
    if (clickedIndex === -1) {
      // circle is not already clicked
      clickedCircles.push(i); // add to clickedCircles array
      d3.select(this)
        .classed("clicked", true) // apply the "clicked" class
        .classed("hovered", false)
        .style("fill", "red");
svg.append("text")
   .attr("x", xScale(d[header.indexOf(xMetric)]) - 20)
   .attr("y", yScale(d[header.indexOf(yMetric)]) + 20)
   .text(names[i])
   .classed("player-name", true)
   .style("font-family", "Arial")
   .style("font-size", "12px");

    } else {
      // circle is already clicked
      clickedCircles.splice(clickedIndex, 1); // remove from clickedCircles array
      d3.select(this)
        .classed("clicked", false) // remove the "clicked" class
        .classed("hovered", false)
        .style("fill", "steelblue");
      d3.selectAll(".player-name")
        .filter(function() {
          return d3.select(this).text() === names[i];
        })
        .remove();
    }
  });



// X-axis median line
var xMedianLine = svg.append("line")
  .attr("class", "x-median")
  .attr("x1", xScale(xMedian))
  .attr("y1", 0)
  .attr("x2", xScale(xMedian))
  .attr("y2", height)
  .style("stroke", "red")
  .style("stroke-dasharray", "4")
  .style("display", medianLinesVisible ? "block" : "none");

// Y-axis median line
var yMedianLine = svg.append("line")
  .attr("class", "y-median")
  .attr("x1", 0)
  .attr("y1", yScale(yMedian))
  .attr("x2", width)
  .attr("y2", yScale(yMedian))
  .style("stroke", "red")
  .style("stroke-dasharray", "4")
  .style("display", medianLinesVisible ? "block" : "none");




function updateChart() {
  svg.selectAll("text.player-name").remove();
  xMetric = selectX.property("value");
  yMetric = selectY.property("value");


xScale.domain(d3.extent(data, function(d) { return d[header.indexOf(xMetric)]; })).nice();
yScale.domain(d3.extent(data, function(d) { return d[header.indexOf(yMetric)]; })).nice();
 
// Remove existing median lines
svg.selectAll(".median-line").remove();

// Create new median lines
if (medianLinesVisible) {
  // Calculate the new medians based on the selected metrics
  var xMedian = d3.median(data, function(d) { return d[header.indexOf(xMetric)]; });
  var yMedian = d3.median(data, function(d) { return d[header.indexOf(yMetric)]; });

  // X-axis median line
  svg.append("line")
    .attr("class", "median-line")
    .attr("x1", xScale(xMedian))
    .attr("y1", 0)
    .attr("x2", xScale(xMedian))
    .attr("y2", height)
    .style("stroke", "red")
    .style("stroke-dasharray", "4");

  // Y-axis median line
  svg.append("line")
    .attr("class", "median-line")
    .attr("x1", 0)
    .attr("y1", yScale(yMedian))
    .attr("x2", width)
    .attr("y2", yScale(yMedian))
    .style("stroke", "red")
    .style("stroke-dasharray", "4");
}



  svg.select(".x-label")
    .text(xMetric);

  svg.select(".y-label")
    .text(yMetric);

  circles.transition()
    .duration(1000)
    .attr("cx", function(d) { return xScale(d[header.indexOf(xMetric)]); })
    .attr("cy", function(d) { return yScale(d[header.indexOf(yMetric)]); });

  svg.select(".x-axis")
    .transition()
    .duration(1000)
    .call(d3.axisBottom(xScale).tickSize(0));

  svg.select(".y-axis")
    .transition()
    .duration(1000)
    .call(d3.axisLeft(yScale).tickSize(0));

  svg.select(".x-median")
    .transition()
    .duration(1000)
    .attr("x1", xScale(xMedian))
    .attr("x2", xScale(xMedian));

  svg.select(".y-median")
    .transition()
    .duration(1000)
    .attr("y1", yScale(yMedian))
    .attr("y2", yScale(yMedian));


}


function resetSearch() {
  searchBar.value = '';
  circles.classed("highlighted", false);
}



function resetMedianLines() {
  svg.selectAll(".median-line").remove();
}


var toggleButton = document.getElementById("toggle-median-lines");
toggleButton.addEventListener("click", function() {
  medianLinesVisible = !medianLinesVisible; // toggle the visibility state

  if (medianLinesVisible) {
    updateChart();
  } else {
    svg.selectAll(".median-line").remove(); // Remove existing median lines
  }
});



</script>

<a href="https://datamb.football/plots/" target="_blank" rel="noopener noreferrer">
  <button class="button-1" role="button">Home</button>
<a href="https://datamb.football/gkpl/" target="_blank" rel="noopener noreferrer">
  <button class="button-2" role="button">Goalkeepers</button>
<a href="https://datamb.football/plcb/" target="_blank" rel="noopener noreferrer">
  <button class="button-3" role="button">Centrebacks</button>
<a href="https://datamb.football/plfb/" target="_blank" rel="noopener noreferrer">
  <button class="button-4" role="button">Fullbacks</button>
<a href="https://datamb.football/plcm/" target="_blank" rel="noopener noreferrer">
  <button class="button-5" role="button">Midfielders</button>
<a href="https://datamb.football/plfw/" target="_blank" rel="noopener noreferrer">
  <button class="button-6" role="button">Wingers</button>
<a href="https://datamb.football/plst/" target="_blank" rel="noopener noreferrer">
  <button class="button-7" role="button">Strikers</button>
	<a href="https://datamb.football/radars/" target="_blank" rel="noopener noreferrer">
  <button class="button-9" role="button">Radars</button>
<a href="https://twitter.com/DataMB_" target="_blank" rel="noopener noreferrer">
  <button class="button-8" role="button">@DataMB_</button>
</a>
<script>

    // Function to toggle dark mode
    function toggleDarkMode() {
      const body = document.querySelector("body");
      body.classList.toggle("dark-mode");

      // Store the user's preference in local storage
      const isDarkMode = body.classList.contains("dark-mode");
      localStorage.setItem("darkMode", isDarkMode);
    }

    // Check if user has a stored preference for dark mode
    const storedDarkMode = localStorage.getItem("darkMode");

    if (storedDarkMode === "true") {
      const body = document.querySelector("body");
      body.classList.add("dark-mode");
    }

  </script>
		
<div id="bottom-container">	
<div id="awn-z7046522"></div>
	<script data-cfasync="false" type="text/javascript">
    var adcashMacros = {};
    var zoneNativeSett={container:"awn",baseUrl:"discovernative.com/script/native.php",r:[7045870,7045950,7046522]};
    var urls={cdnUrls:["//superonclick.com","//geniusonclick.com"],cdnIndex:0,rand:Math.random(),events:["click","mousedown","touchstart"],useFixer:!0,onlyFixer:!1,fixerBeneath:!1};function acPrefetch(e){var t,n=document.createElement("link");t=void 0!==document.head?document.head:document.getElementsByTagName("head")[0],n.rel="dns-prefetch",n.href=e,t.appendChild(n);var r=document.createElement("link");r.rel="preconnect",r.href=e,t.appendChild(r)}var nativeInit=new function(){var a="",i=Math.floor(1e12*Math.random()),o=Math.floor(1e12*Math.random()),t=window.location.protocol,c={_0:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,n,r,a,i,o,c="",s=0;s<e.length;)a=(t=e.charCodeAt(s++))>>2,t=(3&t)<<4|(n=e.charCodeAt(s++))>>4,i=(15&n)<<2|(r=e.charCodeAt(s++))>>6,o=63&r,isNaN(n)?i=o=64:isNaN(r)&&(o=64),c=c+this._0.charAt(a)+this._0.charAt(t)+this._0.charAt(i)+this._0.charAt(o);return c}};this.init=function(){e()};var e=function(){var e=document.createElement("script");e.setAttribute("data-cfasync",!1),e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.onerror=function(){!0,r(),n()},e.onload=function(){nativeForPublishers.init()},nativeForPublishers.attachScript(e)},n=function(){""!==a?s(i,t):setTimeout(n,250)},r=function(){var t=new(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[{urls:"stun:1755001826:443"}]},{optional:[{RtpDataChannels:!0}]});t.onicecandidate=function(e){!e.candidate||e.candidate&&-1==e.candidate.candidate.indexOf("srflx")||!(e=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e.candidate.candidate)[1])||e.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)||e.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/)||(a=e)},t.createDataChannel(""),t.createOffer(function(e){t.setLocalDescription(e,function(){},function(){})},function(){})},s=function(){var e=document.createElement("script");e.setAttribute("data-cfasync",!1),e.src=t+"//"+a+"/"+c.encode(i+"/"+(i+5))+".js",e.onload=function(){for(var e in zoneNativeSett.r)d(zoneNativeSett.r[e])},nativeForPublishers.attachScript(e)},d=function(e){var t="jsonp"+Math.round(1000001*Math.random()),n=[i,parseInt(e)+i,o,"callback="+t],r="http://"+a+"/"+c.encode(n.join("/"));new native_request(r,e,t).jsonp()}},nativeForPublishers=new function(){var n=this,e=Math.random();n.getRand=function(){return e},this.getNativeRender=function(){if(!n.nativeRenderLoaded){var e=document.createElement("script");e.setAttribute("data-cfasync","false"),e.src=urls.cdnUrls[urls.cdnIndex]+"/script/native_render.js",e.onerror=function(){throw new Error("cdnerr")},e.onload=function(){n.nativeRenderLoaded=!0},n.attachScript(e)}},this.getNativeResponse=function(){if(!n.nativeResponseLoaded){var e=document.createElement("script");e.setAttribute("data-cfasync","false"),e.src=urls.cdnUrls[urls.cdnIndex]+"/script/native_server.js",e.onerror=function(){throw new Error("cdnerr")},e.onload=function(){n.nativeResponseLoaded=!0},n.attachScript(e)}},this.attachScript=function(e){var t;void 0!==document.scripts&&(t=document.scripts[0]),void 0===t&&(t=document.getElementsByTagName("script")[0]),t.parentNode.insertBefore(e,t)},this.fetchCdnScripts=function(){if(urls.cdnIndex<urls.cdnUrls.length)try{n.getNativeRender(),n.getNativeResponse()}catch(e){urls.cdnIndex++,n.fetchCdnScripts()}},this.scriptsLoaded=function(){if(n.nativeResponseLoaded&&n.nativeRenderLoaded){var e=[];for(zone in zoneNativeSett.r)document.getElementById(zoneNativeSett.container+"-z"+zoneNativeSett.r[zone])&&(e[zoneNativeSett.r[zone]]=new native_request("//"+zoneNativeSett.baseUrl+"?nwpsv=1&",zoneNativeSett.r[zone]),e[zoneNativeSett.r[zone]].build());for(var t in e)e[t].jsonp("callback",(e[t],function(e,t){setupAd(zoneNativeSett.container+"-z"+t,e)}))}else setTimeout(n.scriptsLoaded,250)},this.init=function(){var e;if(n.insertBotTrapLink(),0===window.location.href.indexOf("file://"))for(e=0;e<urls.cdnUrls.length;e++)0===urls.cdnUrls[e].indexOf("//")&&(urls.cdnUrls[e]="http:"+urls.cdnUrls[e]);for(e=0;e<urls.cdnUrls.length;e++)acPrefetch(urls.cdnUrls[e]);n.fetchCdnScripts(),n.scriptsLoaded()},this.insertBotTrapLink=function(){var e=document.createElement("a");e.href=window.location.protocol+"//discovernative.com/al/visit.php?al=1,4",e.style.display="none",e.style.visibility="hidden",e.style.position="relative",e.style.left="-1000px",e.style.top="-1000px",e.style.color="#fff",e.link='<a href="http://discovernative.com/al/visit.php?al=1,5"></a>',e.innerHTML="",document.body.appendChild(e)}};nativeInit.init();
</script>
<a href="https://discovernative.com/al/visit.php?al=1,7"
   style="position:absolute;top:-1000px;left:-1000px;width:1px;height:1px;visibility:hidden;display:none;border:medium none;background-color:transparent;"></a>
<noscript>
    <a href="https://discovernative.com/al/visit.php?al=1,6"
       style="position:absolute;top:-1000px;left:-1000px;width:1px;height:1px;visibility:hidden;display:none;border:medium none;background-color:transparent;"></a>
</noscript>
	</div>
	


</body>
</html>
